# 相关知识

## 概述

在开始使用本项目之前，了解一些相关的基础知识将有助于您更好地理解和应用本项目的内容。  

本章节将介绍一些必要的背景知识和概念。

## uni-admin

### 功能

## uni-cms

### 介绍

一款全端的、云端一体的CMS内容管理系统。  

- 提供了完善的内容管理、文章编辑、全端渲染功能。
- 内置了付费内容看广告解锁和AI生成文章等功能  

- uni-cms 包括管理端和客户端
  - uni-cms：CMS管理端。属于uni-admin插件，用于管理文章分类、文档内容编辑等，提供了广告解锁符和ai生成文章的功能 插件地址
  - uni-cms-article：CMS用户端。
    包含文章搜索、文章列表详情等页面，还有看广告解锁付费内容的功能 插件地址。未来可能还会拓展

### 主要功能

#### 文章管理

### 使用

- 支持文章保存草稿、发布、编辑、下架、删除、阅读量统计等功能。

- 创建文章时支持保存为草稿或者直接发布，当保存为草稿时，文章可以再次编辑，直到文章发布成功。
- 已发布的文章可以编辑，但是编辑后需要更新文章，才能生效。 - 当已发布的文章出现侵权或者一些原因需要隐藏时，可在文章列表中对该篇文章进行下架操作，下架后的文章将不会在前端展示，同时文章状态会变为“草稿”状态。

- 阅读量统计（PV）：每次打开文章详情页，都会向后端发送请求，在schema扩展中（uni-cms-articles.schema.ext.js）会对文章的阅读量进行加一统计。

#### 安装

- 先创建一个 `uni-admin` 项目
- 然后使用插件将 `uni-cms` 导入项目中
- 导入完成后，需要在 `uni-admin` 项目中找到 `uniClound/database` 目录，将 `quill-delta-converter` 公共模块并确定

- 完成以上配置后，运行启动 `uni-admin` 项目,在web管理后台，点击左侧菜单栏的菜单管理，添加“内容管理”菜单。
- 添加后刷新页面，在`uni-admin`左侧菜单，可看到内容管理的菜单项，点击即可进入相关页面。

#### 多作者登录

1. 作者属于内部员工或可控兼职人员。

- 首先作者们需要在uni-admin中注册账户。

- 然后系统管理员在uni-admin中新建一个文章作者角色。在 `系统管理 - 角色管理` 中操作，点击“新建角色”按钮，填写角色名称为“文章作者”，并确定。
- 然后系统管理员在 系统管理 - 用户管理 中，为已注册用户赋予作者角色

### 二次开发

- 数据库表说明
  - uni-cms-articles cms文章表，schema
  - uni-cms-categories cms分类表，schema
  - uni-im-conversation im会话表，schema
  - uni-im-friend im好友表，schema
  - uni-im-group-member im群成员表
  - uni-im-group im群表
  - uni-im-msg im消息表，schema

- uni-cms 配置  

uni-cms的云端的配置文件统一使用 `uni-config-center`。

### 富文本编辑插件扩展

目前富文本编辑器支持Web、微信小程序、App。不支持其他平台。底层基于Quill.js，详见 <https://quilljs.com/>  

如果编辑器在微信小程序或App使用，将不支持插件扩展，仅支持基本的富文本编辑功能

如果需要开发插件，将不能发布至微信小程序或者App，否则会出现编辑器无法使用的情况
